(this.webpackJsonpuk=this.webpackJsonpuk||[]).push([[0],{13:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},19:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(10),i=a.n(l),o=(a(18),a(1)),r=a(2),c=a(3),d=a(4),m=(a(19),a(7)),p=(a(9),function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.textColorClass+" front-weight-bold",t="NA";this.props.total>0&&(t=this.props.total);var a="NA";return this.props.new>0&&(a="+"+this.props.new),this.props.new<0&&(a=this.props.new),s.a.createElement("div",{className:"border-bottom d-inline-block text-center m-2",style:{width:"8rem",height:"6rem"}},s.a.createElement("small",{className:"font-weigh-lighter"},"New:",s.a.createElement("span",{className:this.props.textColorClass},a)),s.a.createElement("h3",{className:e},t),s.a.createElement("h6",null,this.props.title))}}]),a}(s.a.Component)),h=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={},n}return Object(r.a)(a,[{key:"render",value:function(){var e=new Date(this.props.data.date).toDateString();return s.a.createElement(m.a,{style:{minWidth:"10rem",margin:"auto"}},s.a.createElement(m.a.Header,null,s.a.createElement("span",{className:"font-weight-bold"},"COVID-19 UK Summary"),s.a.createElement("span",{className:"float-right small"},e)),s.a.createElement(m.a.Body,{className:"d-flex flex-wrap justify-content-center"},s.a.createElement(p,{title:"Confirmed",new:this.props.data.newConfirmedCount,total:this.props.data.confirmedCount,textColorClass:"text-danger"}),s.a.createElement(p,{title:"Deaths",new:this.props.data.newDeathsCount,total:this.props.data.deathsCount,textColorClass:"text-dark"}),s.a.createElement(p,{title:"Tested",new:this.props.data.newTestedCount,total:this.props.data.testedCount,textColorClass:"text-info"}),s.a.createElement(p,{title:"London",new:this.props.data.newLondonCount,total:this.props.data.londonCount,textColorClass:"text-warning"})))}}]),a}(s.a.Component),u=a(12),f=a.n(u),g=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).chartRef=s.a.createRef(),n.state={},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.chartRef.current.getContext("2d"),t={labels:this.props.labels,datasets:[{label:this.props.title,backgroundColor:this.props.color,borderColor:this.props.color,fill:!1,data:this.props.data}]},a={responsive:!0,legend:{display:!1},title:{display:!0,text:this.props.title},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!0,scaleLabel:{display:!1}}],yAxes:[{display:!0,scaleLabel:{display:!1}}]}};new f.a(e,{type:this.props.type,data:t,options:a})}},{key:"render",value:function(){return s.a.createElement("canvas",{ref:this.chartRef})}}]),a}(s.a.Component),v=a(6),y=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).ref=s.a.createRef(),n.searchRef=s.a.createRef(),n.onScriptLoad=n.onScriptLoad.bind(Object(v.a)(n)),n}return Object(r.a)(a,[{key:"onScriptLoad",value:function(){var e=new window.google.maps.Map(this.ref.current,this.props.options),t=this.searchRef.current,a=new window.google.maps.places.SearchBox(t);e.controls[window.google.maps.ControlPosition.TOP_LEFT].push(t),e.addListener("bounds_changed",(function(){a.setBounds(e.getBounds())})),a.addListener("places_changed",(function(){var t=a.getPlaces();if(0!==t.length){var n=new window.google.maps.LatLngBounds,s=t[0];s.geometry?(s.geometry.viewport?n.union(s.geometry.viewport):n.extend(s.geometry.location),e.fitBounds(n)):console.log("Returned place contains no geometry")}})),this.props.onMapLoad(e)}},{key:"componentDidMount",value:function(){var e=this;if(window.google)this.onScriptLoad();else{var t=document.createElement("script");t.type="text/javascript",t.src="https://maps.google.com/maps/api/js?libraries=places&key=AIzaSyA9cxRpEVUFHDVDa3DgZe5NLLe5OF__b38";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),t.addEventListener("load",(function(t){e.onScriptLoad()}))}}},{key:"render",value:function(){return s.a.createElement("div",{style:{width:"100%",height:"100%"}},s.a.createElement("div",{style:{width:"100%",height:"100%"},ref:this.ref}),s.a.createElement("input",{type:"text",placeholder:"Search Box",ref:this.searchRef}))}}]),a}(n.Component);y.defaultProps={options:{center:{lat:51.5499133,lng:-.1985144},zoom:8}};var w=y,b=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).lastWindow=null,e}return Object(r.a)(a,[{key:"AddMarks",value:function(e){new window.google.maps.Marker({map:e,draggable:!1,animation:window.google.maps.Animation.DROP,position:{lat:51.5499133,lng:-.1985144},icon:"https://www.google.com/maps/vt/icon/name=assets/icons/poi/tactile/pinlet_shadow_v3-2-medium.png,assets/icons/poi/tactile/pinlet_outline_v3-2-medium.png,assets/icons/poi/tactile/pinlet_v3-2-medium.png,assets/icons/poi/quantum/pinlet/constellation_star_pinlet-2-medium.png&highlight=ff000000,ffffff,fbc02d,ffffff?scale=1"}),new window.google.maps.Marker({map:e,draggable:!1,animation:window.google.maps.Animation.DROP,position:{lat:51.521248,lng:-.102103},icon:"https://www.google.com/maps/vt/icon/name=assets/icons/poi/tactile/pinlet_shadow_v3-2-medium.png,assets/icons/poi/tactile/pinlet_outline_v3-2-medium.png,assets/icons/poi/tactile/pinlet_v3-2-medium.png,assets/icons/poi/quantum/pinlet/constellation_star_pinlet-2-medium.png&highlight=ff000000,ffffff,fbc02d,ffffff?scale=1"})}},{key:"AddBoundary",value:function(e){e.data.loadGeoJson("https://raw.githubusercontent.com/ywhe/uk/master/England.json"),e.data.setStyle({strokeWeight:.35,strokeColor:"red",fillColor:"red",fillOpacity:0})}},{key:"AddRecords",value:function(e){var t=new window.google.maps.LatLngBounds,a=this.props.records;a||(a=[]);for(var n=0;n<a.length;n++){var s=a[n],l=new window.google.maps.LatLng(s.latitude,s.longitude),i=s.Name+"  "+s.Count;t.extend(l);var o="https://www.google.com/maps/vt/icon/name=assets/icons/poi/tactile/pinlet_shadow_v3-2-medium.png,assets/icons/poi/tactile/pinlet_outline_v3-2-medium.png,assets/icons/poi/tactile/pinlet_v3-2-medium.png,assets/icons/poi/quantum/pinlet/medical_pinlet_v2-2-medium.png&highlight=ff000000,ffffff,"+this.GetColor(s.count)+",ffffff?scale=1",r=new window.google.maps.Marker({map:e,position:l,title:i,icon:o});this.AddInfoWindow(e,r,s)}}},{key:"AddInfoWindow",value:function(e,t,a){var n="<div><h6>"+a.name+"</h6><br /><p>Confirmed:<b class='text-danger'>"+a.count+"</b></p><p>New:    <b class='text-danger'>"+a.newCount+"</b></p></div>",s=new window.google.maps.InfoWindow({content:n});window.google.maps.event.addListener(t,"click",function(){null!=this.lastWindow&&this.lastWindow.close(),s.open(e,t),this.lastWindow=s}.bind(this))}},{key:"GetColor",value:function(e){var t="ffce99";return e>5&&(t="f88181"),e>10&&(t="ff8f00"),e>30&&(t="ff5b00"),e>50&&(t="ff0505"),e>80&&(t="f000ff"),e>100&&(t="000000"),t}},{key:"render",value:function(){var e=this;return s.a.createElement(w,{onMapLoad:function(t){e.AddMarks(t),e.AddBoundary(t),e.AddRecords(t)}})}}]),a}(s.a.Component),E=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("table",{id:"table",className:"table table-responsive",style:{height:"100%"}},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",null,"Location"),s.a.createElement("th",null,"Confirmed ",s.a.createElement("span",{className:"badge badge-danger badge-pill"},"New")))),s.a.createElement("tbody",null,this.props.data.map((function(e,t){var a=e.name,n=s.a.createElement("span",null,e.count,s.a.createElement("span",{className:"badge badge-danger badge-pill"},e.newCount));return s.a.createElement("tr",{key:t},s.a.createElement("td",null,a),s.a.createElement("td",null,n))}))))}}]),a}(s.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:{labels:[],confirmedData:[],summary:{},details:[]},isLoading:!0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});fetch("https://raw.githubusercontent.com/ywhe/uk/master/data.json").then((function(e){return e.json()})).then((function(t){e.setState({data:t,isLoading:!1})}))}},{key:"render",value:function(){return document.cookie="SameSite=None;Secure",this.state.isLoading?s.a.createElement("div",null,"is loading....."):s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col d-flex justify-content-center"},s.a.createElement(h,{data:this.state.data.summary}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"bar",title:"Daily Confirmed",color:"red",labels:this.state.data.labels,data:this.state.data.dailyConfirmed})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Cumulative Confirmed",color:"red",labels:this.state.data.labels,data:this.state.data.cumulativeConfirmed}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"bar",title:"Daily Deaths",color:"black",labels:this.state.data.labels,data:this.state.data.dailyDeaths})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Cumulative Deaths",color:"black",labels:this.state.data.labels,data:this.state.data.cumulativeDeaths}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"bar",title:"Daily Tested",color:"green",labels:this.state.data.labels,data:this.state.data.dailyTested})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Cumulative Tested",color:"green",labels:this.state.data.labels,data:this.state.data.cumulativeTested}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"bar",title:"London Daily Confirmed",color:"red",labels:this.state.data.labels,data:this.state.data.dailyLondon})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"London Cumulative Confirmed",color:"purple",labels:this.state.data.labels,data:this.state.data.cumulativeLondon}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Daily Positivity Rate(%)",color:"blue",labels:this.state.data.labels,data:this.state.data.dailyPositivityRate})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Overall Positivity Rate(%)",color:"red",labels:this.state.data.labels,data:this.state.data.overallPositivityRate}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Case Fatality Rate(%)",color:"black",labels:this.state.data.labels,data:this.state.data.deathRate})),s.a.createElement("div",{className:"col-sm",style:{minHeight:"300px"}},s.a.createElement(g,{type:"line",title:"Case Daily Increase (%)",color:"red",labels:this.state.data.labels,data:this.state.data.caseDailyIncrease}))),s.a.createElement("div",{style:{height:"1rem"}}),s.a.createElement("div",{className:"row vh-100"},s.a.createElement("div",{className:"col",style:{height:"100vh"}},s.a.createElement(b,{records:this.state.data.details}))),s.a.createElement("div",{className:"col",style:{height:"300px"}},s.a.createElement(E,{data:this.state.data.details})))}}]),a}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.a16257dc.chunk.js.map